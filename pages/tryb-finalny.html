</body>
</html>
<!DOCTYPE html>
<html lang="pl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tryb Praktyczny - Nauka Bilansu</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Pacifico&display=swap" rel="stylesheet">
        <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fff5f9;
        }
        h1, h2, h3 {
            font-family: 'Pacifico', cursive;
        }
        .kawaii-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #ff99cc, #ff80bf);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .btn-kawaii {
            background: linear-gradient(45deg, #ff99cc, #ff66b3);
            border-radius: 50px;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            box-shadow: 0 4px 6px rgba(255, 153, 204, 0.3);
            transition: all 0.3s;
        }
        .btn-kawaii:hover {
            box-shadow: 0 6px 8px rgba(255, 153, 204, 0.4);
            transform: translateY(-2px);
        }
        .drag-item {
            cursor: grab;
            user-select: none;
            transition: all 0.2s;
            background-color: white;
            border: 2px solid #ffcce6;
            border-radius: 12px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .drag-item:hover {
            box-shadow: 0 4px 6px rgba(255, 102, 179, 0.2);
            transform: translateY(-2px);
        }
        .drag-item.dragging {
            opacity: 0.5;
            box-shadow: 0 8px 15px rgba(255, 102, 179, 0.3);
        }
        .drop-zone {
            min-height: 40px;
            border: 2px dashed #ffcce6;
            border-radius: 8px;
            background-color: rgba(255, 242, 246, 0.5);
            transition: all 0.2s;
            padding: 0.5rem;
        }
        .drop-zone.highlight {
            background-color: rgba(255, 204, 230, 0.3);
            border-color: #ff80bf;
        }
        .drop-zone-title {
            color: #ff80bf;
            text-align: center;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .feedback-correct {
            background-color: rgba(167, 243, 208, 0.3);
            border-color: #10B981;
        }
        .feedback-incorrect {
            background-color: rgba(254, 202, 202, 0.3);
            border-color: #EF4444;
        }
        .score-display {
            font-size: 1.25rem;
            font-weight: 600;
            color: #ff66b3;
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background-color: white;
            border-radius: 50px;
            border: 2px solid #ffcce6;
            box-shadow: 0 4px 6px rgba(255, 153, 204, 0.2);
        }
        .bilans-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-bottom: 1rem;
        }
        .bilans-table th {
            background-color: #ffcce6;
            color: #993366;
            padding: 0.75rem;
            text-align: center;
            border: 1px solid #ffcce6;
            font-weight: 600;
        }
        .bilans-table td {
            border: 1px solid #ffcce6;
            padding: 0.5rem;
            vertical-align: top;
        }
        .bilans-table tr:nth-child(even) {
            background-color: rgba(255, 242, 246, 0.5);
        }
        .category-cell {
            font-weight: 600;
            color: #ff80bf;
        }
        .input-field {
            width: 100%;
            border: 2px solid #ffcce6;
            border-radius: 8px;
            padding: 0.5rem;
            transition: all 0.2s;
        }
        .input-field:focus {
            outline: none;
            border-color: #ff80bf;
            box-shadow: 0 0 0 3px rgba(255, 153, 204, 0.2);
        }
        .input-field.correct {
            border-color: #10B981;
            background-color: rgba(167, 243, 208, 0.2);
        }
        .input-field.incorrect {
            border-color: #EF4444;
            background-color: rgba(254, 202, 202, 0.2);
        }
        .timer {
            font-size: 1.5rem;
            font-weight: 600;
            color: #ff80bf;
        }
        @media (max-width: 768px) {
            .drag-item {
                margin-bottom: 0.75rem;
            }
            .bilans-table th,
            .bilans-table td {
                padding: 0.5rem 0.25rem;
                font-size: 0.9rem;
            }
        }
        </style>
    </head>
    <body>
        <!-- Nag≈Ç√≥wek -->
        <header class="bg-gradient-to-r from-pink-400 to-pink-600 text-white py-8 shadow-lg relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-full">
                <div class="absolute top-4 left-4">
                    <div class="ribbon"></div>
                </div>
                <div class="absolute top-4 right-4">
                    <div class="ribbon"></div>
                </div>
                <div class="absolute bottom-0 left-0 w-full h-8 bg-white opacity-20" style="clip-path: polygon(0 100%, 100% 100%, 100% 0, 75% 50%, 50% 0, 25% 50%, 0 0);"></div>
            </div>
            <div class="container mx-auto px-4 relative z-10">
                <h1 class="text-3xl md:text-4xl text-center">‚ú® Nauka Bilansu ‚ú®</h1>
                <p class="text-center mt-2 text-white font-light">Tryb praktyczny</p>
            </div>
        </header>
        <!-- Nawigacja -->
        <nav class="bg-white py-4 shadow-md">
            <div class="container mx-auto px-4">
                <div class="flex flex-wrap justify-between items-center">
                    <a href="../index.html" class="text-pink-600 flex items-center mb-2 md:mb-0">
                        <i class="fas fa-home mr-2"></i>
                        Strona g≈Ç√≥wna
                    </a>
                    <div class="flex flex-wrap">
                        <a href="tryb-wprowadzajacy.html" class="text-gray-600 mx-2 hover:text-pink-600 mb-2 md:mb-0">Tryb wprowadzajƒÖcy</a>
                        <a href="tryb-dopasowania.html" class="text-gray-600 mx-2 hover:text-pink-600 mb-2 md:mb-0">Tryb dopasowania</a>
                        <a href="tryb-quiz.html" class="text-gray-600 mx-2 hover:text-pink-600 mb-2 md:mb-0">Tryb quizu</a>
                        <a href="tryb-finalny.html" class="text-pink-600 mx-2 font-semibold mb-2 md:mb-0">Tryb praktyczny</a>
                    </div>
                </div>
            </div>
        </nav>
        <!-- G≈Ç√≥wna zawarto≈õƒá -->
        <main class="container mx-auto px-4 py-8">
            <!-- Wprowadzenie -->
            <section class="mb-12 intro-section">
                <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200">
                    <h2 class="text-2xl md:text-3xl text-pink-600 text-center mb-6">Praktyczne budowanie bilansu</h2>
                    <p class="mb-4 text-gray-700">
                        W tym trybie bƒôdziesz m√≥g≈Ç samodzielnie zbudowaƒá bilans, przyporzƒÖdkowujƒÖc warto≈õci do odpowiednich pozycji lub uzupe≈ÇniajƒÖc brakujƒÖce dane. To praktyczne zastosowanie wiedzy zdobytej w poprzednich trybach nauki.
                    </p>
                    <p class="mb-4 text-gray-700">
                        Pamiƒôtaj o podstawowej zasadzie bilansu: suma aktyw√≥w musi byƒá r√≥wna sumie pasyw√≥w. W tym trybie bƒôdziesz pracowaƒá z rzeczywistymi liczbami, aby zobaczyƒá, jak ta zasada dzia≈Ça w praktyce.
                    </p>
                    <p class="text-gray-700">
                        Dostƒôpne sƒÖ trzy rodzaje ƒáwicze≈Ñ:
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div class="bg-pink-50 p-4 rounded-xl">
                            <h3 class="text-lg text-pink-600 font-semibold mb-2">Uzupe≈Çnianie bilansu</h3>
                            <p class="text-gray-700 text-sm">
                                Wype≈Çnij brakujƒÖce warto≈õci w bilansie, aby zachowaƒá r√≥wnowagƒô miƒôdzy aktywami a pasywami.
                            </p>
                        </div>
                        <div class="bg-pink-50 p-4 rounded-xl">
                            <h3 class="text-lg text-pink-600 font-semibold mb-2">Obliczanie sum</h3>
                            <p class="text-gray-700 text-sm">
                                Oblicz sumy poszczeg√≥lnych kategorii i sprawd≈∫ r√≥wnowagƒô bilansu.
                            </p>
                        </div>
                        <div class="bg-pink-50 p-4 rounded-xl">
                            <h3 class="text-lg text-pink-600 font-semibold mb-2">Analiza zmian</h3>
                            <p class="text-gray-700 text-sm">
                                Przeanalizuj, jak r√≥≈ºne operacje gospodarcze wp≈ÇywajƒÖ na poszczeg√≥lne pozycje i sumy bilansu.
                            </p>
                        </div>
                    </div>
                    <div class="mt-8 flex flex-wrap justify-center gap-4">
                        <button id="start-easy-btn" class="btn-kawaii">
                            <i class="fas fa-play mr-2"></i>
                            Rozpocznij ƒáwiczenie ≈Çatwe
                        </button>
                        <button id="start-medium-btn" class="btn-kawaii bg-gradient-to-r from-purple-400 to-purple-500">
                            <i class="fas fa-star mr-2"></i>
                            Rozpocznij ƒáwiczenie ≈õrednie
                        </button>
                        <button id="start-hard-btn" class="btn-kawaii bg-gradient-to-r from-red-400 to-red-500">
                            <i class="fas fa-fire mr-2"></i>
                            Rozpocznij ƒáwiczenie trudne
                        </button>
                    </div>
                </div>
            </section>
            <!-- Sekcja ƒáwiczenia -->
            <section class="mb-12 practice-section hidden">
                <!-- Nag≈Ç√≥wek ƒáwiczenia -->
                <div class="mb-6 flex flex-wrap justify-between items-center">
                    <div class="score-display mb-4 md:mb-0">
                        Punkty:
                        <span id="score">0</span> /
                        <span id="total-points">0</span>
                    </div>
                    <div class="timer mb-4 md:mb-0">
                        Czas:
                        <span id="timer">00:00</span>
                    </div>
                    <div>
                        <select id="difficulty-select" class="border border-pink-200 rounded-full py-2 px-4 bg-white text-pink-600 focus:outline-none focus:ring-2 focus:ring-pink-300">
                            <option value="easy">Poziom ≈Çatwy</option>
                            <option value="medium">Poziom ≈õredni</option>
                            <option value="hard">Poziom trudny</option>
                        </select>
                    </div>
                </div>
                <!-- Tre≈õƒá ƒáwiczenia -->
                <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200 mb-6">
                    <h3 class="text-xl text-pink-600 mb-4" id="exercise-title">Tytu≈Ç ƒáwiczenia</h3>
                    <p id="exercise-description" class="text-gray-700 mb-6">Opis ƒáwiczenia</p>
                    <div id="exercise-content" class="mb-6">
                        <!-- Zawarto≈õƒá ƒáwiczenia (tabela, pola input itp.) bƒôdzie dodawana przez JavaScript --></div>
                    <div class="flex flex-wrap justify-center gap-4">
                        <button id="check-btn" class="btn-kawaii bg-gradient-to-r from-green-400 to-green-500">
                            <i class="fas fa-check mr-2"></i>
                            Sprawd≈∫ odpowiedzi
                        </button>
                        <button id="hint-btn" class="btn-kawaii bg-gradient-to-r from-yellow-400 to-yellow-500">
                            <i class="fas fa-lightbulb mr-2"></i>
                            Podpowied≈∫
                        </button>
                        <button id="reset-btn" class="btn-kawaii bg-gradient-to-r from-gray-400 to-gray-500">
                            <i class="fas fa-redo mr-2"></i>
                            Resetuj ƒáwiczenie
                        </button>
                    </div>
                </div>
                <!-- Wyja≈õnienie -->
                <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200 mb-6 hidden" id="explanation-container">
                    <h3 class="text-xl text-pink-600 mb-4">Wyja≈õnienie</h3>
                    <p id="explanation-text" class="text-gray-700 mb-4"></p>
                    <div class="flex justify-center mt-4">
                        <button id="next-btn" class="btn-kawaii">
                            <i class="fas fa-arrow-right mr-2"></i>
                            Nastƒôpne ƒáwiczenie
                        </button>
                    </div>
                </div>
            </section>
            <!-- Wyniki ko≈Ñcowe -->
            <section class="mb-12 results-section hidden">
                <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200">
                    <h2 class="text-2xl md:text-3xl text-pink-600 text-center mb-6">Wyniki ƒáwiczenia</h2>
                    <div class="text-center mb-6">
                        <div class="inline-block p-4 bg-pink-50 rounded-full mb-4">
                            <i class="fas fa-trophy text-5xl text-pink-500"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800">Gratulacje!</h3>
                        <p class="text-gray-700">Uko≈Ñczy≈Çe≈õ praktyczne ƒáwiczenie z bilansu.</p>
                    </div>
                    <div class="bg-pink-50 rounded-xl p-6 mb-6">
                        <div class="flex flex-wrap justify-center gap-6 mb-4">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-pink-600" id="final-score">0</div>
                                <div class="text-sm text-gray-600">Punkty</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-pink-600" id="final-percent">0%</div>
                                <div class="text-sm text-gray-600">Wynik procentowy</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-pink-600" id="final-time">00:00</div>
                                <div class="text-sm text-gray-600">Czas uko≈Ñczenia</div>
                            </div>
                        </div>
                        <div class="text-center" id="result-message">
                            <!-- Wiadomo≈õƒá bƒôdzie dodana przez JavaScript --></div>
                    </div>
                    <div class="flex flex-wrap justify-center gap-4">
                        <button id="restart-practice-btn" class="btn-kawaii bg-gradient-to-r from-gray-400 to-gray-500">
                            <i class="fas fa-redo mr-2"></i>
                            Rozpocznij ƒáwiczenie ponownie
                        </button>
                        <button id="switch-level-btn" class="btn-kawaii bg-gradient-to-r from-purple-400 to-purple-500">
                            <i class="fas fa-exchange-alt mr-2"></i>
                            Zmie≈Ñ poziom
                        </button>
                        <a href="../index.html" class="btn-kawaii">
                            Powr√≥t do strony g≈Ç√≥wnej
                            <i class="fas fa-home ml-2"></i>
                        </a>
                    </div>
                </div>
            </section>
            <!-- Nawigacja miƒôdzy trybami -->
            <section class="mb-12 text-center navigation-section">
                <a href="tryb-quiz.html" class="inline-block btn-kawaii bg-gradient-to-r from-gray-400 to-gray-500 mr-4">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Wr√≥ƒá do trybu quizu
                </a>
                <a href="../index.html" class="inline-block btn-kawaii">
                    Powr√≥t do strony g≈Ç√≥wnej
                    <i class="fas fa-home ml-2"></i>
                </a>
            </section>
        </main>
        <!-- Stopka -->
        <footer class="bg-gradient-to-r from-pink-500 to-pink-600 text-white py-8">
            <div class="container mx-auto px-4 text-center">
                <div class="mb-4">
                    <span class="inline-block mx-1">üå∏</span>
                    <span class="inline-block mx-1">üíñ</span>
                    <span class="inline-block mx-1">üéÄ</span>
                    <span class="inline-block mx-1">‚ú®</span>
                    <span class="inline-block mx-1">üí´</span>
                </div>
                <p>&copy; 2025 Nauka Bilansu - Projekt edukacyjny</p>
                <p class="text-pink-200 mt-2 text-sm">Strona stworzona w celach edukacyjnych</p>
            </div>
        </footer>
        <!-- JavaScript -->
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Referencje do element√≥w DOM
            const introSection = document.querySelector('.intro-section');
            const practiceSection = document.querySelector('.practice-section');
            const resultsSection = document.querySelector('.results-section');
            const navigationSection = document.querySelector('.navigation-section');
            const exerciseTitle = document.getElementById('exercise-title');
            const exerciseDescription = document.getElementById('exercise-description');
            const exerciseContent = document.getElementById('exercise-content');
            const scoreDisplay = document.getElementById('score');
            const totalPointsDisplay = document.getElementById('total-points');
            const timerDisplay = document.getElementById('timer');
            const checkBtn = document.getElementById('check-btn');
            const hintBtn = document.getElementById('hint-btn');
            const resetBtn = document.getElementById('reset-btn');
            const nextBtn = document.getElementById('next-btn');
            const startEasyBtn = document.getElementById('start-easy-btn');
            const startMediumBtn = document.getElementById('start-medium-btn');
            const startHardBtn = document.getElementById('start-hard-btn');
            const restartPracticeBtn = document.getElementById('restart-practice-btn');
            const switchLevelBtn = document.getElementById('switch-level-btn');
            const difficultySelect = document.getElementById('difficulty-select');
            const explanationContainer = document.getElementById('explanation-container');
            const explanationText = document.getElementById('explanation-text');
            const finalScore = document.getElementById('final-score');
            const finalPercent = document.getElementById('final-percent');
            const finalTime = document.getElementById('final-time');
            const resultMessage = document.getElementById('result-message');
            
            // Definicje ƒáwicze≈Ñ dla poziomu ≈Çatwego
            const easyExercises = [
                {
                    title: "Uzupe≈Çnianie bilansu - poziom ≈Çatwy",
                    description: "Uzupe≈Çnij brakujƒÖce warto≈õci w bilansie, aby zachowaƒá r√≥wnowagƒô miƒôdzy aktywami a pasywami. Suma aktyw√≥w powinna wynosiƒá 500 000 z≈Ç.",
                    type: "fill",
                    content: {
                        assets: [
                            { name: "A. Aktywa trwa≈Çe", value: 300000, editable: false },
                            { name: "I. Warto≈õci niematerialne i prawne", value: 50000, editable: false },
                            { name: "II. Rzeczowe aktywa trwa≈Çe", value: 200000, editable: false },
                            { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 30000, editable: false },
                            { name: "IV. Inwestycje d≈Çugoterminowe", value: 20000, editable: false },
                            { name: "B. Aktywa obrotowe", value: 200000, editable: false },
                            { name: "I. Zapasy", value: 80000, editable: false },
                            { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 70000, editable: false },
                            { name: "III. Inwestycje kr√≥tkoterminowe", value: 50000, editable: false }
                        ],
                        liabilities: [
                            { name: "A. Kapita≈Ç w≈Çasny", value: 300000, editable: false },
                            { name: "I. Kapita≈Ç zak≈Çadowy", value: 200000, editable: false },
                            { name: "II. Kapita≈Ç zapasowy", value: 50000, editable: false },
                            { name: "III. Zysk (strata) netto", value: 50000, editable: false },
                            { name: "B. ZobowiƒÖzania i rezerwy", value: null, editable: true },
                            { name: "I. Rezerwy na zobowiƒÖzania", value: 20000, editable: false },
                            { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 100000, editable: false },
                            { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: null, editable: true }
                        ]
                    },
                    solution: {
                        "B. ZobowiƒÖzania i rezerwy": 200000,
                        "III. ZobowiƒÖzania kr√≥tkoterminowe": 80000
                    },
                    hint: "Pamiƒôtaj, ≈ºe suma aktyw√≥w musi byƒá r√≥wna sumie pasyw√≥w. ZobowiƒÖzania i rezerwy to suma pozycji I, II i III w czƒô≈õci B pasyw√≥w.",
                    explanation: "Aby bilans siƒô zgadza≈Ç, suma aktyw√≥w (500 000 z≈Ç) musi byƒá r√≥wna sumie pasyw√≥w. Kapita≈Ç w≈Çasny wynosi 300 000 z≈Ç, wiƒôc zobowiƒÖzania i rezerwy muszƒÖ wynosiƒá 200 000 z≈Ç. ZnajƒÖc warto≈õƒá rezerw (20 000 z≈Ç) i zobowiƒÖza≈Ñ d≈Çugoterminowych (100 000 z≈Ç), mo≈ºemy obliczyƒá zobowiƒÖzania kr√≥tkoterminowe: 200 000 - 20 000 - 100 000 = 80 000 z≈Ç.",
                    points: 2
                },
                {
                    title: "Obliczanie sum - poziom ≈Çatwy",
                    description: "Oblicz sumƒô aktyw√≥w trwa≈Çych oraz sumƒô aktyw√≥w obrotowych, a nastƒôpnie sumƒô aktyw√≥w og√≥≈Çem.",
                    type: "calculate",
                    content: {
                        assets: [
                            { name: "A. Aktywa trwa≈Çe", value: null, editable: true },
                            { name: "I. Warto≈õci niematerialne i prawne", value: 30000, editable: false },
                            { name: "II. Rzeczowe aktywa trwa≈Çe", value: 150000, editable: false },
                            { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 20000, editable: false },
                            { name: "IV. Inwestycje d≈Çugoterminowe", value: 50000, editable: false },
                            { name: "B. Aktywa obrotowe", value: null, editable: true },
                            { name: "I. Zapasy", value: 60000, editable: false },
                            { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 40000, editable: false },
                            { name: "III. Inwestycje kr√≥tkoterminowe", value: 30000, editable: false },
                            { name: "AKTYWA RAZEM", value: null, editable: true }
                        ]
                    },
                    solution: {
                        "A. Aktywa trwa≈Çe": 250000,
                        "B. Aktywa obrotowe": 130000,
                        "AKTYWA RAZEM": 380000
                    },
                    hint: "Aby obliczyƒá sumƒô aktyw√≥w trwa≈Çych, dodaj warto≈õci pozycji I, II, III i IV w czƒô≈õci A. Podobnie dla aktyw√≥w obrotowych.",
                    explanation: "Suma aktyw√≥w trwa≈Çych to suma pozycji I, II, III i IV w czƒô≈õci A: 30 000 + 150 000 + 20 000 + 50 000 = 250 000 z≈Ç. Suma aktyw√≥w obrotowych to suma pozycji I, II i III w czƒô≈õci B: 60 000 + 40 000 + 30 000 = 130 000 z≈Ç. Suma aktyw√≥w og√≥≈Çem to suma aktyw√≥w trwa≈Çych i obrotowych: 250 000 + 130 000 = 380 000 z≈Ç.",
                    points: 3
                },
                {
                    title: "Analiza zmian - poziom ≈Çatwy",
                    description: "Firma zakupi≈Ça nowƒÖ maszynƒô produkcyjnƒÖ za 50 000 z≈Ç, p≈ÇacƒÖc got√≥wkƒÖ. Uzupe≈Çnij bilans po tej operacji.",
                    type: "analyze",
                    content: {
                        initialBalance: {
                            assets: [
                                { name: "A. Aktywa trwa≈Çe", value: 200000 },
                                { name: "I. Warto≈õci niematerialne i prawne", value: 20000 },
                                { name: "II. Rzeczowe aktywa trwa≈Çe", value: 150000 },
                                { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 10000 },
                                { name: "IV. Inwestycje d≈Çugoterminowe", value: 20000 },
                                { name: "B. Aktywa obrotowe", value: 100000 },
                                { name: "I. Zapasy", value: 30000 },
                                { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 20000 },
                                { name: "III. Inwestycje kr√≥tkoterminowe", value: 50000 }
                            ],
                            liabilities: [
                                { name: "A. Kapita≈Ç w≈Çasny", value: 200000 },
                                { name: "I. Kapita≈Ç zak≈Çadowy", value: 150000 },
                                { name: "II. Kapita≈Ç zapasowy", value: 20000 },
                                { name: "III. Zysk (strata) netto", value: 30000 },
                                { name: "B. ZobowiƒÖzania i rezerwy", value: 100000 },
                                { name: "I. Rezerwy na zobowiƒÖzania", value: 10000 },
                                { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 50000 },
                                { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: 40000 }
                            ]
                        },
                        fieldsToFill: [
                            "II. Rzeczowe aktywa trwa≈Çe",
                            "III. Inwestycje kr√≥tkoterminowe"
                        ]
                    },
                    solution: {
                        "II. Rzeczowe aktywa trwa≈Çe": 200000,
                        "III. Inwestycje kr√≥tkoterminowe": 0
                    },
                    hint: "Zakup maszyny zwiƒôksza warto≈õƒá rzeczowych aktyw√≥w trwa≈Çych, a p≈Çatno≈õƒá got√≥wkƒÖ zmniejsza inwestycje kr√≥tkoterminowe (≈õrodki pieniƒô≈ºne).",
                    explanation: "Zakup maszyny produkcyjnej za got√≥wkƒô powoduje dwie zmiany w bilansie: zwiƒôkszenie warto≈õci rzeczowych aktyw√≥w trwa≈Çych o 50 000 z≈Ç (z 150 000 z≈Ç do 200 000 z≈Ç) oraz zmniejszenie inwestycji kr√≥tkoterminowych (≈õrodk√≥w pieniƒô≈ºnych) o tƒô samƒÖ kwotƒô (z 50 000 z≈Ç do 0 z≈Ç). Suma aktyw√≥w pozostaje bez zmian (300 000 z≈Ç).",
                    points: 2
                }
            ];
            
            // Definicje ƒáwicze≈Ñ dla poziomu ≈õredniego
            const mediumExercises = [
                {
                    title: "Uzupe≈Çnianie bilansu - poziom ≈õredni",
                    description: "Uzupe≈Çnij brakujƒÖce warto≈õci w bilansie. Suma pasyw√≥w wynosi 800 000 z≈Ç.",
                    type: "fill",
                    content: {
                        assets: [
                            { name: "A. Aktywa trwa≈Çe", value: null, editable: true },
                            { name: "I. Warto≈õci niematerialne i prawne", value: 70000, editable: false },
                            { name: "II. Rzeczowe aktywa trwa≈Çe", value: 280000, editable: false },
                            { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: null, editable: true },
                            { name: "IV. Inwestycje d≈Çugoterminowe", value: 50000, editable: false },
                            { name: "B. Aktywa obrotowe", value: 350000, editable: false },
                            { name: "I. Zapasy", value: 120000, editable: false },
                            { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 130000, editable: false },
                            { name: "III. Inwestycje kr√≥tkoterminowe", value: 100000, editable: false },
                            { name: "AKTYWA RAZEM", value: 800000, editable: false }
                        ],
                        liabilities: [
                            { name: "A. Kapita≈Ç w≈Çasny", value: 450000, editable: false },
                            { name: "I. Kapita≈Ç zak≈Çadowy", value: null, editable: true },
                            { name: "II. Kapita≈Ç zapasowy", value: 100000, editable: false },
                            { name: "III. Kapita≈Ç z aktualizacji wyceny", value: 30000, editable: false },
                            { name: "IV. Zysk (strata) netto", value: 70000, editable: false },
                            { name: "B. ZobowiƒÖzania i rezerwy", value: 350000, editable: false },
                            { name: "I. Rezerwy na zobowiƒÖzania", value: 40000, editable: false },
                            { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 150000, editable: false },
                            { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: null, editable: true },
                            { name: "PASYWA RAZEM", value: 800000, editable: false }
                        ]
                    },
                    solution: {
                        "A. Aktywa trwa≈Çe": 450000,
                        "III. Nale≈ºno≈õci d≈Çugoterminowe": 50000,
                        "I. Kapita≈Ç zak≈Çadowy": 250000,
                        "III. ZobowiƒÖzania kr√≥tkoterminowe": 160000
                    },
                    hint: "Oblicz najpierw warto≈õƒá A. Aktywa trwa≈Çe jako sumƒô pozycji I, II, III i IV. Nastƒôpnie oblicz III. Nale≈ºno≈õci d≈Çugoterminowe jako r√≥≈ºnicƒô miƒôdzy aktywami trwa≈Çymi a sumƒÖ pozosta≈Çych pozycji. W pasywach, oblicz pozosta≈Çe warto≈õci na podstawie sum czƒô≈õciowych i ca≈Çkowitych.",
                    explanation: "Aktywa trwa≈Çe to 450 000 z≈Ç (800 000 z≈Ç - 350 000 z≈Ç). Nale≈ºno≈õci d≈Çugoterminowe to 50 000 z≈Ç (450 000 z≈Ç - 70 000 z≈Ç - 280 000 z≈Ç - 50 000 z≈Ç). Kapita≈Ç zak≈Çadowy to 250 000 z≈Ç (450 000 z≈Ç - 100 000 z≈Ç - 30 000 z≈Ç - 70 000 z≈Ç). ZobowiƒÖzania kr√≥tkoterminowe to 160 000 z≈Ç (350 000 z≈Ç - 40 000 z≈Ç - 150 000 z≈Ç).",
                    points: 4
                },
                {
                    title: "Analiza zmian - poziom ≈õredni",
                    description: "Firma zaciƒÖgnƒô≈Ça kredyt bankowy w wysoko≈õci 100 000 z≈Ç oraz zakupi≈Ça nowƒÖ liniƒô produkcyjnƒÖ za 150 000 z≈Ç, z czego 80 000 z≈Ç zap≈Çaci≈Ça got√≥wkƒÖ, a na resztƒô otrzyma≈Ça kredyt kupiecki. Uzupe≈Çnij bilans po tych operacjach.",
                    type: "analyze",
                    content: {
                        initialBalance: {
                            assets: [
                                { name: "A. Aktywa trwa≈Çe", value: 400000 },
                                { name: "I. Warto≈õci niematerialne i prawne", value: 50000 },
                                { name: "II. Rzeczowe aktywa trwa≈Çe", value: 300000 },
                                { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 20000 },
                                { name: "IV. Inwestycje d≈Çugoterminowe", value: 30000 },
                                { name: "B. Aktywa obrotowe", value: 200000 },
                                { name: "I. Zapasy", value: 80000 },
                                { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 50000 },
                                { name: "III. Inwestycje kr√≥tkoterminowe", value: 70000 }
                            ],
                            liabilities: [
                                { name: "A. Kapita≈Ç w≈Çasny", value: 350000 },
                                { name: "I. Kapita≈Ç zak≈Çadowy", value: 200000 },
                                { name: "II. Kapita≈Ç zapasowy", value: 80000 },
                                { name: "III. Zysk (strata) netto", value: 70000 },
                                { name: "B. ZobowiƒÖzania i rezerwy", value: 250000 },
                                { name: "I. Rezerwy na zobowiƒÖzania", value: 20000 },
                                { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 150000 },
                                { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: 80000 }
                            ]
                        },
                        fieldsToFill: [
                            "II. Rzeczowe aktywa trwa≈Çe",
                            "III. Inwestycje kr√≥tkoterminowe",
                            "II. ZobowiƒÖzania d≈Çugoterminowe",
                            "III. ZobowiƒÖzania kr√≥tkoterminowe"
                        ]
                    },
                    solution: {
                        "II. Rzeczowe aktywa trwa≈Çe": 450000,
                        "III. Inwestycje kr√≥tkoterminowe": 90000,
                        "II. ZobowiƒÖzania d≈Çugoterminowe": 250000,
                        "III. ZobowiƒÖzania kr√≥tkoterminowe": 150000
                    },
                    hint: "ZaciƒÖgniƒôcie kredytu zwiƒôksza zar√≥wno inwestycje kr√≥tkoterminowe (≈õrodki pieniƒô≈ºne), jak i zobowiƒÖzania. Zakup linii produkcyjnej zwiƒôksza rzeczowe aktywa trwa≈Çe, zmniejsza ≈õrodki pieniƒô≈ºne i zwiƒôksza zobowiƒÖzania kr√≥tkoterminowe.",
                    explanation: "ZaciƒÖgniƒôcie kredytu bankowego 100 000 z≈Ç zwiƒôksza ≈õrodki pieniƒô≈ºne (do 170 000 z≈Ç) i zobowiƒÖzania d≈Çugoterminowe (do 250 000 z≈Ç). Zakup linii produkcyjnej zwiƒôksza rzeczowe aktywa trwa≈Çe o 150 000 z≈Ç (do 450 000 z≈Ç), zmniejsza ≈õrodki pieniƒô≈ºne o 80 000 z≈Ç (do 90 000 z≈Ç) i zwiƒôksza zobowiƒÖzania kr√≥tkoterminowe o 70 000 z≈Ç (do 150 000 z≈Ç).",
                    points: 4
                },
                {
                    title: "Obliczanie wska≈∫nik√≥w - poziom ≈õredni",
                    description: "Na podstawie podanego bilansu, oblicz nastƒôpujƒÖce wska≈∫niki: udzia≈Ç kapita≈Çu w≈Çasnego w finansowaniu aktyw√≥w, udzia≈Ç zobowiƒÖza≈Ñ d≈Çugoterminowych w pasywach oraz udzia≈Ç aktyw√≥w obrotowych w aktywach og√≥≈Çem. Wyniki podaj w procentach.",
                    type: "calculate-ratios",
                    content: {
                        balance: {
                            assets: [
                                { name: "A. Aktywa trwa≈Çe", value: 600000 },
                                { name: "I. Warto≈õci niematerialne i prawne", value: 100000 },
                                { name: "II. Rzeczowe aktywa trwa≈Çe", value: 400000 },
                                { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 50000 },
                                { name: "IV. Inwestycje d≈Çugoterminowe", value: 50000 },
                                { name: "B. Aktywa obrotowe", value: 400000 },
                                { name: "I. Zapasy", value: 150000 },
                                { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 150000 },
                                { name: "III. Inwestycje kr√≥tkoterminowe", value: 100000 },
                                { name: "AKTYWA RAZEM", value: 1000000 }
                            ],
                            liabilities: [
                                { name: "A. Kapita≈Ç w≈Çasny", value: 600000 },
                                { name: "I. Kapita≈Ç zak≈Çadowy", value: 400000 },
                                { name: "II. Kapita≈Ç zapasowy", value: 100000 },
                                { name: "III. Zysk (strata) netto", value: 100000 },
                                { name: "B. ZobowiƒÖzania i rezerwy", value: 400000 },
                                { name: "I. Rezerwy na zobowiƒÖzania", value: 50000 },
                                { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 200000 },
                                { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: 150000 },
                                { name: "PASYWA RAZEM", value: 1000000 }
                            ]
                        },
                        ratiosToCalculate: [
                            { name: "Udzia≈Ç kapita≈Çu w≈Çasnego w finansowaniu aktyw√≥w", formula: "A. Kapita≈Ç w≈Çasny / AKTYWA RAZEM", value: null, editable: true },
                            { name: "Udzia≈Ç zobowiƒÖza≈Ñ d≈Çugoterminowych w pasywach", formula: "II. ZobowiƒÖzania d≈Çugoterminowe / PASYWA RAZEM", value: null, editable: true },
                            { name: "Udzia≈Ç aktyw√≥w obrotowych w aktywach og√≥≈Çem", formula: "B. Aktywa obrotowe / AKTYWA RAZEM", value: null, editable: true }
                        ]
                    },
                    solution: {
                        "Udzia≈Ç kapita≈Çu w≈Çasnego w finansowaniu aktyw√≥w": 60,
                        "Udzia≈Ç zobowiƒÖza≈Ñ d≈Çugoterminowych w pasywach": 20,
                        "Udzia≈Ç aktyw√≥w obrotowych w aktywach og√≥≈Çem": 40
                    },
                    hint: "Aby obliczyƒá wska≈∫niki, podziel odpowiednie warto≈õci z bilansu i pomn√≥≈º przez 100, aby uzyskaƒá wynik w procentach.",
                    explanation: "Udzia≈Ç kapita≈Çu w≈Çasnego w finansowaniu aktyw√≥w: 600 000 z≈Ç / 1 000 000 z≈Ç * 100% = 60%. Udzia≈Ç zobowiƒÖza≈Ñ d≈Çugoterminowych w pasywach: 200 000 z≈Ç / 1 000 000 z≈Ç * 100% = 20%. Udzia≈Ç aktyw√≥w obrotowych w aktywach og√≥≈Çem: 400 000 z≈Ç / 1 000 000 z≈Ç * 100% = 40%.",
                    points: 3
                }
            ];
            
            // Definicje ƒáwicze≈Ñ dla poziomu trudnego
            const hardExercises = [
                {
                    title: "Analiza kompleksowych zmian - poziom trudny",
                    description: "Firma przeprowadzi≈Ça w ciƒÖgu miesiƒÖca nastƒôpujƒÖce operacje: 1) zaciƒÖgnƒô≈Ça kredyt d≈Çugoterminowy 200 000 z≈Ç, 2) zakupi≈Ça ≈õrodki trwa≈Çe za 250 000 z≈Ç (150 000 z≈Ç z kredytu, 100 000 z≈Ç got√≥wkƒÖ), 3) sp≈Çaci≈Ça zobowiƒÖzania kr√≥tkoterminowe w wysoko≈õci 50 000 z≈Ç, 4) dokona≈Ça emisji akcji o warto≈õci 100 000 z≈Ç. Uzupe≈Çnij bilans po tych operacjach.",
                    type: "analyze-complex",
                    content: {
                        initialBalance: {
                            assets: [
                                { name: "A. Aktywa trwa≈Çe", value: 500000 },
                                { name: "I. Warto≈õci niematerialne i prawne", value: 100000 },
                                { name: "II. Rzeczowe aktywa trwa≈Çe", value: 350000 },
                                { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 20000 },
                                { name: "IV. Inwestycje d≈Çugoterminowe", value: 30000 },
                                { name: "B. Aktywa obrotowe", value: 300000 },
                                { name: "I. Zapasy", value: 100000 },
                                { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 70000 },
                                { name: "III. Inwestycje kr√≥tkoterminowe", value: 130000 }
                            ],
                            liabilities: [
                                { name: "A. Kapita≈Ç w≈Çasny", value: 450000 },
                                { name: "I. Kapita≈Ç zak≈Çadowy", value: 300000 },
                                { name: "II. Kapita≈Ç zapasowy", value: 80000 },
                                { name: "III. Zysk (strata) netto", value: 70000 },
                                { name: "B. ZobowiƒÖzania i rezerwy", value: 350000 },
                                { name: "I. Rezerwy na zobowiƒÖzania", value: 40000 },
                                { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 160000 },
                                { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: 150000 }
                            ]
                        },
                        fieldsToFill: [
                            "II. Rzeczowe aktywa trwa≈Çe",
                            "III. Inwestycje kr√≥tkoterminowe",
                            "I. Kapita≈Ç zak≈Çadowy",
                            "II. ZobowiƒÖzania d≈Çugoterminowe",
                            "III. ZobowiƒÖzania kr√≥tkoterminowe",
                            "AKTYWA RAZEM",
                            "PASYWA RAZEM"
                        ]
                    },
                    solution: {
                        "II. Rzeczowe aktywa trwa≈Çe": 600000,
                        "III. Inwestycje kr√≥tkoterminowe": 80000,
                        "I. Kapita≈Ç zak≈Çadowy": 400000,
                        "II. ZobowiƒÖzania d≈Çugoterminowe": 360000,
                        "III. ZobowiƒÖzania kr√≥tkoterminowe": 100000,
                        "AKTYWA RAZEM": 900000,
                        "PASYWA RAZEM": 900000
                    },
                    hint: "Analizuj ka≈ºdƒÖ operacjƒô po kolei i ≈õled≈∫ jej wp≈Çyw na bilans. Pamiƒôtaj, ≈ºe suma aktyw√≥w zawsze musi byƒá r√≥wna sumie pasyw√≥w.",
                    explanation: "1) ZaciƒÖgniƒôcie kredytu: zwiƒôkszenie inwestycji kr√≥tkoterminowych o 200 000 z≈Ç (do 330 000 z≈Ç) i zobowiƒÖza≈Ñ d≈Çugoterminowych o 200 000 z≈Ç (do 360 000 z≈Ç). 2) Zakup ≈õrodk√≥w trwa≈Çych: zwiƒôkszenie rzeczowych aktyw√≥w trwa≈Çych o 250 000 z≈Ç (do 600 000 z≈Ç) i zmniejszenie inwestycji kr√≥tkoterminowych o 100 000 z≈Ç (do 230 000 z≈Ç). 3) Sp≈Çata zobowiƒÖza≈Ñ: zmniejszenie inwestycji kr√≥tkoterminowych o 50 000 z≈Ç (do 180 000 z≈Ç) i zobowiƒÖza≈Ñ kr√≥tkoterminowych o 50 000 z≈Ç (do 100 000 z≈Ç). 4) Emisja akcji: zwiƒôkszenie inwestycji kr√≥tkoterminowych o 100 000 z≈Ç (do 80 000 z≈Ç) i kapita≈Çu zak≈Çadowego o 100 000 z≈Ç (do 400 000 z≈Ç). Suma aktyw√≥w i pasyw√≥w wynosi 900 000 z≈Ç.",
                    points: 7
                },
                {
                    title: "Scenariusz biznesowy - poziom trudny",
                    description: "Twoja firma planuje inwestycjƒô w nowƒÖ technologiƒô wartƒÖ 500 000 z≈Ç. Masz do wyboru: finansowanie kredytem bankowym (oprocentowanie 8%) lub emisjƒô akcji. Przeanalizuj oba warianty i oblicz wska≈∫niki zad≈Çu≈ºenia oraz rentowno≈õci kapita≈Çu w≈Çasnego (ROE) dla obu scenariuszy, przyjmujƒÖc zysk netto na poziomie 120 000 z≈Ç po inwestycji.",
                    type: "business-scenario",
                    content: {
                        initialBalance: {
                            assets: [
                                { name: "A. Aktywa trwa≈Çe", value: 800000 },
                                { name: "I. Warto≈õci niematerialne i prawne", value: 150000 },
                                { name: "II. Rzeczowe aktywa trwa≈Çe", value: 550000 },
                                { name: "III. Nale≈ºno≈õci d≈Çugoterminowe", value: 50000 },
                                { name: "IV. Inwestycje d≈Çugoterminowe", value: 50000 },
                                { name: "B. Aktywa obrotowe", value: 500000 },
                                { name: "I. Zapasy", value: 200000 },
                                { name: "II. Nale≈ºno≈õci kr√≥tkoterminowe", value: 150000 },
                                { name: "III. Inwestycje kr√≥tkoterminowe", value: 150000 },
                                { name: "AKTYWA RAZEM", value: 1300000 }
                            ],
                            liabilities: [
                                { name: "A. Kapita≈Ç w≈Çasny", value: 800000 },
                                { name: "I. Kapita≈Ç zak≈Çadowy", value: 600000 },
                                { name: "II. Kapita≈Ç zapasowy", value: 100000 },
                                { name: "III. Zysk (strata) netto", value: 100000 },
                                { name: "B. ZobowiƒÖzania i rezerwy", value: 500000 },
                                { name: "I. Rezerwy na zobowiƒÖzania", value: 50000 },
                                { name: "II. ZobowiƒÖzania d≈Çugoterminowe", value: 300000 },
                                { name: "III. ZobowiƒÖzania kr√≥tkoterminowe", value: 150000 },
                                { name: "PASYWA RAZEM", value: 1300000 }
                            ]
                        },
                        scenarios: [
                            {
                                name: "Finansowanie kredytem",
                                ratios: [
                                    { name: "Wska≈∫nik zad≈Çu≈ºenia og√≥≈Çem", formula: "(ZobowiƒÖzania og√≥≈Çem / Pasywa razem) * 100%", value: null, editable: true },
                                    { name: "Rentowno≈õƒá kapita≈Çu w≈Çasnego (ROE)", formula: "(Zysk netto / Kapita≈Ç w≈Çasny) * 100%", value: null, editable: true }
                                ]
                            },
                            {
                                name: "Finansowanie emisjƒÖ akcji",
                                ratios: [
                                    { name: "Wska≈∫nik zad≈Çu≈ºenia og√≥≈Çem", formula: "(ZobowiƒÖzania og√≥≈Çem / Pasywa razem) * 100%", value: null, editable: true },
                                    { name: "Rentowno≈õƒá kapita≈Çu w≈Çasnego (ROE)", formula: "(Zysk netto / Kapita≈Ç w≈Çasny) * 100%", value: null, editable: true }
                                ]
                            }
                        ]
                    },
                    solution: {
                        "Finansowanie kredytem-Wska≈∫nik zad≈Çu≈ºenia og√≥≈Çem": 55.6,
                        "Finansowanie kredytem-Rentowno≈õƒá kapita≈Çu w≈Çasnego (ROE)": 14.3,
                        "Finansowanie emisjƒÖ akcji-Wska≈∫nik zad≈Çu≈ºenia og√≥≈Çem": 27.8,
                        "Finansowanie emisjƒÖ akcji-Rentowno≈õƒá kapita≈Çu w≈Çasnego (ROE)": 9.2
                    },
                    hint: "Dla scenariusza kredytowego, zmodyfikuj bilans uwzglƒôdniajƒÖc dodatkowe zobowiƒÖzanie d≈Çugoterminowe oraz odsetki od kredytu. Dla emisji akcji, zwiƒôksz kapita≈Ç zak≈Çadowy. Wska≈∫nik zad≈Çu≈ºenia to stosunek zobowiƒÖza≈Ñ og√≥≈Çem do pasyw√≥w razem, a ROE to stosunek zysku netto do kapita≈Çu w≈Çasnego.",
                    explanation: "Scenariusz kredytowy: Wzrost aktyw√≥w o 500 000 z≈Ç (do 1 800 000 z≈Ç), wzrost zobowiƒÖza≈Ñ d≈Çugoterminowych o 500 000 z≈Ç (do 800 000 z≈Ç). Zysk netto po uwzglƒôdnieniu odsetek (8% od 500 000 z≈Ç = 40 000 z≈Ç): 120 000 z≈Ç - 40 000 z≈Ç = 80 000 z≈Ç. Wska≈∫nik zad≈Çu≈ºenia: (1 000 000 z≈Ç / 1 800 000 z≈Ç) * 100% = 55.6%. ROE: (80 000 z≈Ç / 560 000 z≈Ç) * 100% = 14.3%. Scenariusz emisji akcji: Wzrost aktyw√≥w o 500 000 z≈Ç (do 1 800 000 z≈Ç), wzrost kapita≈Çu zak≈Çadowego o 500 000 z≈Ç (do 1 100 000 z≈Ç). Wska≈∫nik zad≈Çu≈ºenia: (500 000 z≈Ç / 1 800 000 z≈Ç) * 100% = 27.8%. ROE: (120 000 z≈Ç / 1 300 000 z≈Ç) * 100% = 9.2%.",
                    points: 8
                },
                {
                    title: "Rekonstrukcja bilansu - poziom trudny",
                    description: "Na podstawie podanych danych, odtw√≥rz kompletny bilans przedsiƒôbiorstwa. Wiadomo, ≈ºe: suma aktyw√≥w wynosi 1 500 000 z≈Ç, aktywa trwa≈Çe stanowiƒÖ 60% aktyw√≥w og√≥≈Çem, zapasy stanowiƒÖ 40% aktyw√≥w obrotowych, kapita≈Ç w≈Çasny stanowi 45% pasyw√≥w, a stosunek zobowiƒÖza≈Ñ d≈Çugoterminowych do kr√≥tkoterminowych wynosi 2:1.",
                    type: "reconstruct",
                    content: {
                        fieldsToFill: [
                            { name: "A. Aktywa trwa≈Çe", value: null, editable: true },
                            { name: "B. Aktywa obrotowe", value: null, editable: true },
                            { name: "I. Zapasy", value: null, editable: true },
                            { name: "II. Nale≈ºno≈õci i inne aktywa obrotowe", value: null, editable: true },
                            { name: "AKTYWA RAZEM", value: 1500000, editable: false },
                            { name: "A. Kapita≈Ç w≈Çasny", value: null, editable: true },
                            { name: "B. ZobowiƒÖzania i rezerwy", value: null, editable: true },
                            { name: "I. ZobowiƒÖzania d≈Çugoterminowe", value: null, editable: true },
                            { name: "II. ZobowiƒÖzania kr√≥tkoterminowe", value: null, editable: true },
                            { name: "PASYWA RAZEM", value: 1500000, editable: false }
                        ]
                    },
                    solution: {
                        "A. Aktywa trwa≈Çe": 900000,
                        "B. Aktywa obrotowe": 600000,
                        "I. Zapasy": 240000,
                        "II. Nale≈ºno≈õci i inne aktywa obrotowe": 360000,
                        "A. Kapita≈Ç w≈Çasny": 675000,
                        "B. ZobowiƒÖzania i rezerwy": 825000,
                        "I. ZobowiƒÖzania d≈Çugoterminowe": 550000,
                        "II. ZobowiƒÖzania kr√≥tkoterminowe": 275000
                    },
                    hint: "Zacznij od obliczenia aktyw√≥w trwa≈Çych (60% z 1 500 000 z≈Ç), nastƒôpnie oblicz aktywa obrotowe jako r√≥≈ºnicƒô miƒôdzy aktywami razem a aktywami trwa≈Çymi. Oblicz zapasy jako 40% aktyw√≥w obrotowych. Po stronie pasyw√≥w, oblicz kapita≈Ç w≈Çasny (45% z 1 500 000 z≈Ç) i zobowiƒÖzania og√≥≈Çem. Podziel zobowiƒÖzania w proporcji 2:1 (d≈Çugoterminowe:kr√≥tkoterminowe).",
                    explanation: "Aktywa trwa≈Çe: 60% * 1 500 000 z≈Ç = 900 000 z≈Ç. Aktywa obrotowe: 1 500 000 z≈Ç - 900 000 z≈Ç = 600 000 z≈Ç. Zapasy: 40% * 600 000 z≈Ç = 240 000 z≈Ç. Nale≈ºno≈õci i inne aktywa obrotowe: 600 000 z≈Ç - 240 000 z≈Ç = 360 000 z≈Ç. Kapita≈Ç w≈Çasny: 45% * 1 500 000 z≈Ç = 675 000 z≈Ç. ZobowiƒÖzania i rezerwy: 1 500 000 z≈Ç - 675 000 z≈Ç = 825 000 z≈Ç. Proporcja zobowiƒÖza≈Ñ d≈Çugoterminowych do kr√≥tkoterminowych 2:1 oznacza, ≈ºe zobowiƒÖzania d≈Çugoterminowe to 2/3 * 825 000 z≈Ç = 550 000 z≈Ç, a kr√≥tkoterminowe to 1/3 * 825 000 z≈Ç = 275 000 z≈Ç.",
                    points: 8
                }
            ];
            
            // Zmienne globalne
            let currentExercises = [];
            let currentExerciseIndex = 0;
            let userScore = 0;
            let totalPoints = 0;
            let currentDifficulty = 'easy';
            let timerInterval;
            let startTime;
            
            // Funkcja inicjalizujƒÖca ƒáwiczenie
            function initPractice(difficulty) {
                // Ustaw aktualne ƒáwiczenia na podstawie wybranego poziomu trudno≈õci
                if (difficulty === 'easy') {
                    currentExercises = [...easyExercises];
                } else if (difficulty === 'medium') {
                    currentExercises = [...mediumExercises];
                } else if (difficulty === 'hard') {
                    currentExercises = [...hardExercises];
                }
                
                // Losowe mieszanie ƒáwicze≈Ñ
                currentExercises.sort(() => Math.random() - 0.5);
                
                // Resetowanie zmiennych
                currentExerciseIndex = 0;
                userScore = 0;
                totalPoints = 0;
                
                // Obliczanie ca≈Çkowitej liczby punkt√≥w
                currentExercises.forEach(exercise => {
                    totalPoints += exercise.points;
                });
                
                // Aktualizacja wy≈õwietlania
                totalPointsDisplay.textContent = totalPoints;
                scoreDisplay.textContent = userScore;
                
                // Uruchomienie timera
                startTimer();
                
                // Wy≈õwietlenie pierwszego ƒáwiczenia
                showExercise(currentExerciseIndex);
                
                // Aktualizacja wyboru trudno≈õci
                difficultySelect.value = difficulty;
                currentDifficulty = difficulty;
                
                // Pokazanie sekcji ƒáwiczenia i ukrycie innych sekcji
                introSection.classList.add('hidden');
                resultsSection.classList.add('hidden');
                navigationSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                explanationContainer.classList.add('hidden');
            }
            
            // Funkcja uruchamiajƒÖca timer
            function startTimer() {
                // Zatrzymanie poprzedniego timera, je≈õli istnieje
                if (timerInterval) {
                    clearInterval(timerInterval);
                }
                
                // Ustawienie czasu rozpoczƒôcia
                startTime = new Date();
                
                // Aktualizacja wy≈õwietlania timera co sekundƒô
                timerInterval = setInterval(function() {
                    const currentTime = new Date();
                    const elapsedTime = Math.floor((currentTime - startTime) / 1000);
                    const minutes = Math.floor(elapsedTime / 60);
                    const seconds = elapsedTime % 60;
                    timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }, 1000);
            }
            
            // Funkcja zatrzymujƒÖca timer
            function stopTimer() {
                if (timerInterval) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                }
            }
            
            // Funkcja wy≈õwietlajƒÖca ƒáwiczenie
            function showExercise(index) {
                // Pobranie aktualnego ƒáwiczenia
                const exercise = currentExercises[index];
                
                // Aktualizacja tytu≈Çu i opisu ƒáwiczenia
                exerciseTitle.textContent = exercise.title;
                exerciseDescription.textContent = exercise.description;
                
                // Wyczyszczenie kontenera ƒáwiczenia
                exerciseContent.innerHTML = '';
                
                // Generowanie zawarto≈õci ƒáwiczenia w zale≈ºno≈õci od typu
                if (exercise.type === 'fill' || exercise.type === 'calculate') {
                    showTableExercise(exercise);
                } else if (exercise.type === 'analyze' || exercise.type === 'analyze-complex') {
                    showAnalyzeExercise(exercise);
                } else if (exercise.type === 'calculate-ratios') {
                    showRatiosExercise(exercise);
                } else if (exercise.type === 'business-scenario') {
                    showScenarioExercise(exercise);
                } else if (exercise.type === 'reconstruct') {
                    showReconstructExercise(exercise);
                }
                
                // Resetowanie przycisku sprawdzania
                checkBtn.disabled = false;
                
                // Ukrycie kontenera wyja≈õnienia
                explanationContainer.classList.add('hidden');
            }
            
            // Funkcja wy≈õwietlajƒÖca ƒáwiczenie typu tabela (fill, calculate)
            function showTableExercise(exercise) {
                // Tworzenie tabeli bilansu
                const table = document.createElement('table');
                table.className = 'bilans-table';
                
                // Nag≈Ç√≥wek tabeli
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                
                const assetHeader = document.createElement('th');
                assetHeader.textContent = 'Pozycja';
                headerRow.appendChild(assetHeader);
                
                const assetValueHeader = document.createElement('th');
                assetValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                headerRow.appendChild(assetValueHeader);
                
                thead.appendChild(headerRow);
                table.appendChild(thead);
                
                // Cia≈Ço tabeli
                const tbody = document.createElement('tbody');
                
                // Dodanie aktyw√≥w
                if (exercise.content.assets) {
                    exercise.content.assets.forEach(item => {
                        const row = document.createElement('tr');
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = item.name.startsWith('A.') || item.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = item.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        if (item.editable) {
                            const input = document.createElement('input');
                            input.type = 'number';
                            input.className = 'input-field';
                            input.placeholder = 'Wpisz warto≈õƒá';
                            input.setAttribute('data-field', item.name);
                            valueCell.appendChild(input);
                        } else if (item.value !== null) {
                            valueCell.textContent = item.value.toLocaleString();
                        } else {
                            valueCell.textContent = '-';
                        }
                        row.appendChild(valueCell);
                        
                        tbody.appendChild(row);
                    });
                }
                
                // Dodanie pasyw√≥w, je≈õli istniejƒÖ
                if (exercise.content.liabilities) {
                    const separatorRow = document.createElement('tr');
                    const separatorCell = document.createElement('td');
                    separatorCell.colSpan = 2;
                    separatorCell.style.height = '20px';
                    separatorRow.appendChild(separatorCell);
                    tbody.appendChild(separatorRow);
                    
                    exercise.content.liabilities.forEach(item => {
                        const row = document.createElement('tr');
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = item.name.startsWith('A.') || item.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = item.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        if (item.editable) {
                            const input = document.createElement('input');
                            input.type = 'number';
                            input.className = 'input-field';
                            input.placeholder = 'Wpisz warto≈õƒá';
                            input.setAttribute('data-field', item.name);
                            valueCell.appendChild(input);
                        } else if (item.value !== null) {
                            valueCell.textContent = item.value.toLocaleString();
                        } else {
                            valueCell.textContent = '-';
                        }
                        row.appendChild(valueCell);
                        
                        tbody.appendChild(row);
                    });
                }
                
                table.appendChild(tbody);
                exerciseContent.appendChild(table);
            }
            
            // Funkcja wy≈õwietlajƒÖca ƒáwiczenie typu analiza (analyze, analyze-complex)
            function showAnalyzeExercise(exercise) {
                const container = document.createElement('div');
                
                // Nag≈Ç√≥wek dla bilansu poczƒÖtkowego
                const initialBalanceHeader = document.createElement('h4');
                initialBalanceHeader.className = 'text-lg text-pink-600 font-semibold mb-4';
                initialBalanceHeader.textContent = 'Bilans poczƒÖtkowy:';
                container.appendChild(initialBalanceHeader);
                
                // Tworzenie tabeli bilansu poczƒÖtkowego
                const initialTable = document.createElement('table');
                initialTable.className = 'bilans-table mb-6';
                
                // Nag≈Ç√≥wek tabeli
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                
                const assetHeader = document.createElement('th');
                assetHeader.textContent = 'Aktywa';
                assetHeader.style.width = '25%';
                headerRow.appendChild(assetHeader);
                
                const assetValueHeader = document.createElement('th');
                assetValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                assetValueHeader.style.width = '25%';
                headerRow.appendChild(assetValueHeader);
                
                const liabilityHeader = document.createElement('th');
                liabilityHeader.textContent = 'Pasywa';
                liabilityHeader.style.width = '25%';
                headerRow.appendChild(liabilityHeader);
                
                const liabilityValueHeader = document.createElement('th');
                liabilityValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                liabilityValueHeader.style.width = '25%';
                headerRow.appendChild(liabilityValueHeader);
                
                thead.appendChild(headerRow);
                initialTable.appendChild(thead);
                
                // Cia≈Ço tabeli
                const tbody = document.createElement('tbody');
                
                // Okre≈õlenie maksymalnej liczby wierszy w tabeli
                const maxRows = Math.max(
                    exercise.content.initialBalance.assets.length,
                    exercise.content.initialBalance.liabilities.length
                );
                
                // Wype≈Çnienie tabeli
                for (let i = 0; i < maxRows; i++) {
                    const row = document.createElement('tr');
                    
                    // Aktywa
                    if (i < exercise.content.initialBalance.assets.length) {
                        const asset = exercise.content.initialBalance.assets[i];
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = asset.name.startsWith('A.') || asset.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = asset.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        valueCell.textContent = asset.value.toLocaleString();
                        row.appendChild(valueCell);
                    } else {
                        row.appendChild(document.createElement('td'));
                        row.appendChild(document.createElement('td'));
                    }
                    
                    // Pasywa
                    if (i < exercise.content.initialBalance.liabilities.length) {
                        const liability = exercise.content.initialBalance.liabilities[i];
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = liability.name.startsWith('A.') || liability.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = liability.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        valueCell.textContent = liability.value.toLocaleString();
                        row.appendChild(valueCell);
                    } else {
                        row.appendChild(document.createElement('td'));
                        row.appendChild(document.createElement('td'));
                    }
                    
                    tbody.appendChild(row);
                }
                
                initialTable.appendChild(tbody);
                container.appendChild(initialTable);
                
                // Nag≈Ç√≥wek dla p√≥l do wype≈Çnienia
                const fillHeader = document.createElement('h4');
                fillHeader.className = 'text-lg text-pink-600 font-semibold mb-4';
                fillHeader.textContent = 'Uzupe≈Çnij brakujƒÖce warto≈õci po operacjach:';
                container.appendChild(fillHeader);
                
                // Formularze do wype≈Çnienia
                const formContainer = document.createElement('div');
                formContainer.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 mb-4';
                
                exercise.content.fieldsToFill.forEach(field => {
                    const fieldContainer = document.createElement('div');
                    fieldContainer.className = 'mb-4';
                    
                    const label = document.createElement('label');
                    label.className = 'block text-gray-700 mb-2';
                    label.textContent = field;
                    fieldContainer.appendChild(label);
                    
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'input-field';
                    input.placeholder = 'Wpisz warto≈õƒá';
                    input.setAttribute('data-field', field);
                    fieldContainer.appendChild(input);
                    
                    formContainer.appendChild(fieldContainer);
                });
                
                container.appendChild(formContainer);
                exerciseContent.appendChild(container);
            }
            
            // Funkcja wy≈õwietlajƒÖca ƒáwiczenie typu wska≈∫niki (calculate-ratios)
            function showRatiosExercise(exercise) {
                const container = document.createElement('div');
                
                // Nag≈Ç√≥wek dla bilansu
                const balanceHeader = document.createElement('h4');
                balanceHeader.className = 'text-lg text-pink-600 font-semibold mb-4';
                balanceHeader.textContent = 'Bilans:';
                container.appendChild(balanceHeader);
                
                // Tworzenie tabeli bilansu
                const balanceTable = document.createElement('table');
                balanceTable.className = 'bilans-table mb-6';
                
                // Nag≈Ç√≥wek tabeli
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                
                const assetHeader = document.createElement('th');
                assetHeader.textContent = 'Aktywa';
                assetHeader.style.width = '25%';
                headerRow.appendChild(assetHeader);
                
                const assetValueHeader = document.createElement('th');
                assetValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                assetValueHeader.style.width = '25%';
                headerRow.appendChild(assetValueHeader);
                
                const liabilityHeader = document.createElement('th');
                liabilityHeader.textContent = 'Pasywa';
                liabilityHeader.style.width = '25%';
                headerRow.appendChild(liabilityHeader);
                
                const liabilityValueHeader = document.createElement('th');
                liabilityValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                liabilityValueHeader.style.width = '25%';
                headerRow.appendChild(liabilityValueHeader);
                
                thead.appendChild(headerRow);
                balanceTable.appendChild(thead);
                
                // Cia≈Ço tabeli
                const tbody = document.createElement('tbody');
                
                // Okre≈õlenie maksymalnej liczby wierszy w tabeli
                const maxRows = Math.max(
                    exercise.content.balance.assets.length,
                    exercise.content.balance.liabilities.length
                );
                
                // Wype≈Çnienie tabeli
                for (let i = 0; i < maxRows; i++) {
                    const row = document.createElement('tr');
                    
                    // Aktywa
                    if (i < exercise.content.balance.assets.length) {
                        const asset = exercise.content.balance.assets[i];
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = asset.name.startsWith('A.') || asset.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = asset.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        valueCell.textContent = asset.value.toLocaleString();
                        row.appendChild(valueCell);
                    } else {
                        row.appendChild(document.createElement('td'));
                        row.appendChild(document.createElement('td'));
                    }
                    
                    // Pasywa
                    if (i < exercise.content.balance.liabilities.length) {
                        const liability = exercise.content.balance.liabilities[i];
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = liability.name.startsWith('A.') || liability.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = liability.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        valueCell.textContent = liability.value.toLocaleString();
                        row.appendChild(valueCell);
                    } else {
                        row.appendChild(document.createElement('td'));
                        row.appendChild(document.createElement('td'));
                    }
                    
                    tbody.appendChild(row);
                }
                
                balanceTable.appendChild(tbody);
                container.appendChild(balanceTable);
                
                // Nag≈Ç√≥wek dla wska≈∫nik√≥w
                const ratiosHeader = document.createElement('h4');
                ratiosHeader.className = 'text-lg text-pink-600 font-semibold mb-4';
                ratiosHeader.textContent = 'Oblicz wska≈∫niki (w %):';
                container.appendChild(ratiosHeader);
                
                // Formularze do wype≈Çnienia wska≈∫nik√≥w
                const formContainer = document.createElement('div');
                formContainer.className = 'space-y-4';
                
                exercise.content.ratiosToCalculate.forEach(ratio => {
                    const ratioContainer = document.createElement('div');
                    ratioContainer.className = 'bg-pink-50 p-4 rounded-xl';
                    
                    const label = document.createElement('label');
                    label.className = 'block text-gray-700 mb-2 font-semibold';
                    label.textContent = ratio.name;
                    ratioContainer.appendChild(label);
                    
                    const formula = document.createElement('p');
                    formula.className = 'text-sm text-gray-600 mb-3';
                    formula.textContent = `Wz√≥r: ${ratio.formula}`;
                    ratioContainer.appendChild(formula);
                    
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'input-field';
                    input.placeholder = 'Wpisz warto≈õƒá (%)';
                    input.setAttribute('data-field', ratio.name);
                    input.min = 0;
                    input.max = 100;
                    input.step = 0.1;
                    ratioContainer.appendChild(input);
                    
                    formContainer.appendChild(ratioContainer);
                });
                
                container.appendChild(formContainer);
                exerciseContent.appendChild(container);
            }
            
            // Funkcja wy≈õwietlajƒÖca ƒáwiczenie typu scenariusz biznesowy (business-scenario)
            function showScenarioExercise(exercise) {
                const container = document.createElement('div');
                
                // Nag≈Ç√≥wek dla bilansu poczƒÖtkowego
                const initialBalanceHeader = document.createElement('h4');
                initialBalanceHeader.className = 'text-lg text-pink-600 font-semibold mb-4';
                initialBalanceHeader.textContent = 'Bilans poczƒÖtkowy:';
                container.appendChild(initialBalanceHeader);
                
                // Tworzenie tabeli bilansu poczƒÖtkowego
                const initialTable = document.createElement('table');
                initialTable.className = 'bilans-table mb-6';
                
                // Nag≈Ç√≥wek tabeli
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                
                const assetHeader = document.createElement('th');
                assetHeader.textContent = 'Aktywa';
                assetHeader.style.width = '25%';
                headerRow.appendChild(assetHeader);
                
                const assetValueHeader = document.createElement('th');
                assetValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                assetValueHeader.style.width = '25%';
                headerRow.appendChild(assetValueHeader);
                
                const liabilityHeader = document.createElement('th');
                liabilityHeader.textContent = 'Pasywa';
                liabilityHeader.style.width = '25%';
                headerRow.appendChild(liabilityHeader);
                
                const liabilityValueHeader = document.createElement('th');
                liabilityValueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                liabilityValueHeader.style.width = '25%';
                headerRow.appendChild(liabilityValueHeader);
                
                thead.appendChild(headerRow);
                initialTable.appendChild(thead);
                
                // Cia≈Ço tabeli
                const tbody = document.createElement('tbody');
                
                // Okre≈õlenie maksymalnej liczby wierszy w tabeli
                const maxRows = Math.max(
                    exercise.content.initialBalance.assets.length,
                    exercise.content.initialBalance.liabilities.length
                );
                
                // Wype≈Çnienie tabeli
                for (let i = 0; i < maxRows; i++) {
                    const row = document.createElement('tr');
                    
                    // Aktywa
                    if (i < exercise.content.initialBalance.assets.length) {
                        const asset = exercise.content.initialBalance.assets[i];
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = asset.name.startsWith('A.') || asset.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = asset.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        valueCell.textContent = asset.value.toLocaleString();
                        row.appendChild(valueCell);
                    } else {
                        row.appendChild(document.createElement('td'));
                        row.appendChild(document.createElement('td'));
                    }
                    
                    // Pasywa
                    if (i < exercise.content.initialBalance.liabilities.length) {
                        const liability = exercise.content.initialBalance.liabilities[i];
                        
                        const nameCell = document.createElement('td');
                        nameCell.className = liability.name.startsWith('A.') || liability.name.startsWith('B.') ? 'category-cell' : '';
                        nameCell.textContent = liability.name;
                        row.appendChild(nameCell);
                        
                        const valueCell = document.createElement('td');
                        valueCell.textContent = liability.value.toLocaleString();
                        row.appendChild(valueCell);
                    } else {
                        row.appendChild(document.createElement('td'));
                        row.appendChild(document.createElement('td'));
                    }
                    
                    tbody.appendChild(row);
                }
                
                initialTable.appendChild(tbody);
                container.appendChild(initialTable);
                
                // Wy≈õwietlanie scenariuszy
                exercise.content.scenarios.forEach((scenario, index) => {
                    const scenarioHeader = document.createElement('h4');
                    scenarioHeader.className = 'text-lg text-pink-600 font-semibold mb-4 mt-6';
                    scenarioHeader.textContent = `Scenariusz ${index + 1}: ${scenario.name}`;
                    container.appendChild(scenarioHeader);
                    
                    // Formularze do wype≈Çnienia wska≈∫nik√≥w
                    const formContainer = document.createElement('div');
                    formContainer.className = 'space-y-4';
                    
                    scenario.ratios.forEach(ratio => {
                        const ratioContainer = document.createElement('div');
                        ratioContainer.className = 'bg-pink-50 p-4 rounded-xl';
                        
                        const label = document.createElement('label');
                        label.className = 'block text-gray-700 mb-2 font-semibold';
                        label.textContent = ratio.name;
                        ratioContainer.appendChild(label);
                        
                        const formula = document.createElement('p');
                        formula.className = 'text-sm text-gray-600 mb-3';
                        formula.textContent = `Wz√≥r: ${ratio.formula}`;
                        ratioContainer.appendChild(formula);
                        
                        const input = document.createElement('input');
                        input.type = 'number';
                        input.className = 'input-field';
                        input.placeholder = 'Wpisz warto≈õƒá (%)';
                        input.setAttribute('data-field', `${scenario.name}-${ratio.name}`);
                        input.min = 0;
                        input.max = 100;
                        input.step = 0.1;
                        ratioContainer.appendChild(input);
                        
                        formContainer.appendChild(ratioContainer);
                    });
                    
                    container.appendChild(formContainer);
                });
                
                exerciseContent.appendChild(container);
            }
            
            // Funkcja wy≈õwietlajƒÖca ƒáwiczenie typu rekonstrukcja bilansu (reconstruct)
            function showReconstructExercise(exercise) {
                const container = document.createElement('div');
                
                const instruction = document.createElement('p');
                instruction.className = 'text-gray-700 mb-6';
                instruction.textContent = 'Uzupe≈Çnij warto≈õci w bilansie na podstawie podanych informacji:';
                container.appendChild(instruction);
                
                // Tworzenie tabeli bilansu
                const table = document.createElement('table');
                table.className = 'bilans-table';
                
                // Nag≈Ç√≥wek tabeli
                const thead = document.createElement('thead');
                const headerRow = document.createElement('tr');
                
                const positionHeader = document.createElement('th');
                positionHeader.textContent = 'Pozycja';
                headerRow.appendChild(positionHeader);
                
                const valueHeader = document.createElement('th');
                valueHeader.textContent = 'Warto≈õƒá (z≈Ç)';
                headerRow.appendChild(valueHeader);
                
                thead.appendChild(headerRow);
                table.appendChild(thead);
                
                // Cia≈Ço tabeli
                const tbody = document.createElement('tbody');
                
                // Wype≈Çnienie tabeli
                exercise.content.fieldsToFill.forEach(field => {
                    const row = document.createElement('tr');
                    
                    const nameCell = document.createElement('td');
                    nameCell.className = field.name.startsWith('A.') || field.name.startsWith('B.') ? 'category-cell' : '';
                    nameCell.textContent = field.name;
                    row.appendChild(nameCell);
                    
                    const valueCell = document.createElement('td');
                    if (field.editable) {
                        const input = document.createElement('input');
                        input.type = 'number';
                        input.className = 'input-field';
                        input.placeholder = 'Wpisz warto≈õƒá';
                        input.setAttribute('data-field', field.name);
                        valueCell.appendChild(input);
                    } else {
                        valueCell.textContent = field.value.toLocaleString();
                    }
                    row.appendChild(valueCell);
                    
                    tbody.appendChild(row);
                });
                
                table.appendChild(tbody);
                container.appendChild(table);
                
                exerciseContent.appendChild(container);
            }
            
            // Funkcja sprawdzajƒÖca odpowiedzi
            function checkAnswers() {
                const exercise = currentExercises[currentExerciseIndex];
                const inputs = document.querySelectorAll('.input-field');
                let allCorrect = true;
                let correctCount = 0;
                
                inputs.forEach(input => {
                    const fieldName = input.getAttribute('data-field');
                    const userValue = parseFloat(input.value);
                    
                    if (isNaN(userValue)) {
                        input.classList.add('incorrect');
                        allCorrect = false;
                        return;
                    }
                    
                    if (exercise.solution[fieldName] !== undefined) {
                        const correctValue = exercise.solution[fieldName];
                        const tolerance = 0.1; // Tolerancja b≈Çƒôdu dla warto≈õci procentowych
                        
                        if (Math.abs(userValue - correctValue) <= tolerance) {
                            input.classList.add('correct');
                            correctCount++;
                        } else {
                            input.classList.add('incorrect');
                            allCorrect = false;
                        }
                    }
                });
                
                // Aktualizacja wyniku
                if (allCorrect) {
                    userScore += exercise.points;
                    scoreDisplay.textContent = userScore;
                }
                
                // Wy≈õwietlenie wyja≈õnienia
                explanationText.textContent = exercise.explanation;
                explanationContainer.classList.remove('hidden');
                
                // Dezaktywacja przycisku sprawdzania
                checkBtn.disabled = true;
            }
            
            // Funkcja pokazujƒÖca podpowied≈∫
            function showHint() {
                const exercise = currentExercises[currentExerciseIndex];
                alert(exercise.hint);
            }
            
            // Funkcja resetujƒÖca ƒáwiczenie
            function resetExercise() {
                const inputs = document.querySelectorAll('.input-field');
                
                inputs.forEach(input => {
                    input.value = '';
                    input.classList.remove('correct', 'incorrect');
                });
                
                explanationContainer.classList.add('hidden');
                checkBtn.disabled = false;
            }
            
            // Funkcja przej≈õcia do nastƒôpnego ƒáwiczenia
            function nextExercise() {
                currentExerciseIndex++;
                
                if (currentExerciseIndex < currentExercises.length) {
                    showExercise(currentExerciseIndex);
                } else {
                    showResults();
                }
            }
            
            // Funkcja wy≈õwietlajƒÖca wyniki
            function showResults() {
                // Zatrzymanie timera
                stopTimer();
                
                // Ukrycie kontenera ƒáwiczenia i pokazanie wynik√≥w
                practiceSection.classList.add('hidden');
                resultsSection.classList.remove('hidden');
                
                // Aktualizacja wynik√≥w
                finalScore.textContent = userScore;
                const percent = Math.round((userScore / totalPoints) * 100);
                finalPercent.textContent = `${percent}%`;
                finalTime.textContent = timerDisplay.textContent;
                
                // Wiadomo≈õƒá wynikowa
                let message = '';
                if (percent >= 90) {
                    message = '≈öwietny wynik! Doskonale rozumiesz zasady bilansu i potrafisz je zastosowaƒá w praktyce.';
                } else if (percent >= 70) {
                    message = 'Dobry wynik! Masz solidnƒÖ wiedzƒô o bilansie, ale mo≈ºesz jeszcze popracowaƒá nad niekt√≥rymi aspektami.';
                } else if (percent >= 50) {
                    message = 'Przyzwoity wynik. Warto powt√≥rzyƒá niekt√≥re zagadnienia z bilansu, aby lepiej zrozumieƒá ich praktyczne zastosowanie.';
                } else {
                    message = 'Warto po≈õwiƒôciƒá wiƒôcej czasu na naukƒô bilansu. Zacznij od podstaw i stopniowo przejd≈∫ do bardziej zaawansowanych zagadnie≈Ñ.';
                }
                
                resultMessage.textContent = message;
            }
            
            // Obs≈Çuga przycisk√≥w
            startEasyBtn.addEventListener('click', function() {
                initPractice('easy');
            });
            
            startMediumBtn.addEventListener('click', function() {
                initPractice('medium');
            });
            
            startHardBtn.addEventListener('click', function() {
                initPractice('hard');
            });
            
            checkBtn.addEventListener('click', function() {
                checkAnswers();
            });
            
            hintBtn.addEventListener('click', function() {
                showHint();
            });
            
            resetBtn.addEventListener('click', function() {
                resetExercise();
            });
            
            nextBtn.addEventListener('click', function() {
                nextExercise();
            });
            
            restartPracticeBtn.addEventListener('click', function() {
                initPractice(currentDifficulty);
            });
            
            switchLevelBtn.addEventListener('click', function() {
                introSection.classList.remove('hidden');
                resultsSection.classList.add('hidden');
                navigationSection.classList.remove('hidden');
            });
            
            difficultySelect.addEventListener('change', function() {
                initPractice(this.value);
            });
        });
        </script>
