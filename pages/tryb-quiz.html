<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tryb Quizu - Nauka Bilansu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #fff5f9;
        }
        h1, h2, h3 {
            font-family: 'Pacifico', cursive;
        }
        .kawaii-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #ff99cc, #ff80bf);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .btn-kawaii {
            background: linear-gradient(45deg, #ff99cc, #ff66b3);
            border-radius: 50px;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            box-shadow: 0 4px 6px rgba(255, 153, 204, 0.3);
            transition: all 0.3s;
        }
        .btn-kawaii:hover {
            box-shadow: 0 6px 8px rgba(255, 153, 204, 0.4);
            transform: translateY(-2px);
        }
        .quiz-option {
            border: 2px solid #ffcce6;
            border-radius: 12px;
            background-color: white;
            padding: 0.75rem 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        .quiz-option:hover {
            border-color: #ff80bf;
            box-shadow: 0 4px 6px rgba(255, 102, 179, 0.2);
            transform: translateY(-2px);
        }
        .quiz-option.selected {
            border-color: #ff66b3;
            background-color: rgba(255, 242, 246, 0.7);
        }
        .quiz-option.correct {
            border-color: #10B981;
            background-color: rgba(167, 243, 208, 0.2);
        }
        .quiz-option.incorrect {
            border-color: #EF4444;
            background-color: rgba(254, 202, 202, 0.2);
        }
        .quiz-option.correct::after {
            content: "âœ“";
            position: absolute;
            right: 1rem;
            color: #10B981;
            font-weight: bold;
        }
        .quiz-option.incorrect::after {
            content: "âœ—";
            position: absolute;
            right: 1rem;
            color: #EF4444;
            font-weight: bold;
        }
        .score-display {
            font-size: 1.25rem;
            font-weight: 600;
            color: #ff66b3;
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background-color: white;
            border-radius: 50px;
            border: 2px solid #ffcce6;
            box-shadow: 0 4px 6px rgba(255, 153, 204, 0.2);
        }
        .progress-bar {
            height: 10px;
            background-color: #ffcce6;
            border-radius: 5px;
            margin-top: 0.5rem;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #ff99cc, #ff66b3);
            border-radius: 5px;
            transition: width 0.5s ease-in-out;
        }
        .feedback-icon {
            font-size: 3rem;
            text-align: center;
            margin: 1rem 0;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-30px);
            }
            60% {
                transform: translateY(-15px);
            }
        }
        .animate-bounce {
            animation: bounce 1s;
        }
        @media (max-width: 768px) {
            .quiz-option {
                padding: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- NagÅ‚Ã³wek -->
    <header class="bg-gradient-to-r from-pink-400 to-pink-600 text-white py-8 shadow-lg relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full">
            <div class="absolute top-4 left-4">
                <div class="ribbon"></div>
            </div>
            <div class="absolute top-4 right-4">
                <div class="ribbon"></div>
            </div>
            <div class="absolute bottom-0 left-0 w-full h-8 bg-white opacity-20" style="clip-path: polygon(0 100%, 100% 100%, 100% 0, 75% 50%, 50% 0, 25% 50%, 0 0);"></div>
        </div>
        <div class="container mx-auto px-4 relative z-10">
            <h1 class="text-3xl md:text-4xl text-center">âœ¨ Quiz RachunkowoÅ›ci âœ¨</h1>
            <p class="text-center mt-2 text-white font-light">SprawdÅº swojÄ… wiedzÄ™</p>
        </div>
    </header>

    <!-- Nawigacja -->
    <nav class="bg-white py-4 shadow-md">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap justify-between items-center">
                <a href="../index.html" class="text-pink-600 flex items-center mb-2 md:mb-0">
                    <i class="fas fa-home mr-2"></i>
                    Strona gÅ‚Ã³wna
                </a>
                <div class="flex flex-wrap">
                    <a href="tryb-wprowadzajacy.html" class="text-gray-600 mx-2 hover:text-pink-600 mb-2 md:mb-0">Tryb wprowadzajÄ…cy</a>
                    <a href="tryb-dopasowania.html" class="text-gray-600 mx-2 hover:text-pink-600 mb-2 md:mb-0">Tryb dopasowania</a>
                    <a href="tryb-quiz.html" class="text-pink-600 mx-2 font-semibold mb-2 md:mb-0">Tryb quizu</a>
                    <a href="tryb-finalny.html" class="text-gray-600 mx-2 hover:text-pink-600 mb-2 md:mb-0">Tryb praktyczny</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- GÅ‚Ã³wna zawartoÅ›Ä‡ -->
    <main class="container mx-auto px-4 py-8">
        <!-- Wprowadzenie -->
        <section class="mb-12 quiz-intro">
            <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200">
                <h2 class="text-2xl md:text-3xl text-pink-600 text-center mb-6">Quiz z rachunkowoÅ›ci</h2>
                <p class="mb-4 text-gray-700">
                    W tym trybie sprawdzisz swojÄ… wiedzÄ™ z zakresu rachunkowoÅ›ci za pomocÄ… quizu. Quiz skÅ‚ada siÄ™ z pytaÅ„ jednokrotnego wyboru, ktÃ³re sprawdzÄ… TwojÄ… znajomoÅ›Ä‡ podstawowych zagadnieÅ„ ksiÄ™gowych.
                </p>
                <p class="mb-4 text-gray-700">
                    Za kaÅ¼dÄ… poprawnÄ… odpowiedÅº otrzymasz punkty. Po odpowiedzi na pytanie, kliknij przycisk "SprawdÅº", aby zobaczyÄ‡, czy odpowiedziaÅ‚eÅ› poprawnie, a nastÄ™pnie przejdÅº do kolejnego pytania.
                </p>
                <p class="text-gray-700">
                    Quiz zawiera 10 pytaÅ„ z rÃ³Å¼nych obszarÃ³w rachunkowoÅ›ci. Powodzenia!
                </p>
                
                <div class="mt-8 flex justify-center">
                    <button id="start-quiz-btn" class="btn-kawaii">
                        <i class="fas fa-play mr-2"></i> Rozpocznij quiz
                    </button>
                </div>
            </div>
        </section>

        <!-- Quiz -->
        <section class="mb-12 quiz-container hidden">
            <!-- NagÅ‚Ã³wek quizu -->
            <div class="mb-6 flex flex-wrap justify-between items-center">
                <div class="score-display mb-4 md:mb-0">
                    Punkty: <span id="score">0</span> / <span id="total-points">0</span>
                </div>
                
                <div class="flex-1 md:mx-4 mb-4 md:mb-0">
                    <div class="text-sm text-gray-600 flex justify-between">
                        <span>Pytanie <span id="current-question">1</span> z <span id="total-questions">10</span></span>
                        <span id="progress-percent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <!-- Pytanie -->
            <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200 mb-6">
                <h3 class="text-xl text-pink-600 mb-4" id="question-text">TreÅ›Ä‡ pytania...</h3>
                <p class="text-sm text-gray-500 mb-4" id="question-type">Wybierz jednÄ… odpowiedÅº:</p>
                
                <div id="options-container" class="mb-6">
                    <!-- Opcje bÄ™dÄ… dodawane przez JavaScript -->
                </div>
                
                <div class="flex justify-center">
                    <button id="check-btn" class="btn-kawaii bg-gradient-to-r from-green-400 to-green-500">
                        <i class="fas fa-check mr-2"></i> SprawdÅº odpowiedÅº
                    </button>
                </div>
            </div>
            
            <!-- WyjaÅ›nienie -->
            <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200 mb-6 hidden" id="explanation-container">
                <div id="feedback-icon" class="feedback-icon"></div>
                <h3 class="text-xl text-pink-600 mb-4">WyjaÅ›nienie</h3>
                <p id="explanation-text" class="text-gray-700 mb-4"></p>
                
                <div class="flex justify-center mt-4">
                    <button id="next-btn" class="btn-kawaii">
                        <i class="fas fa-arrow-right mr-2"></i> NastÄ™pne pytanie
                    </button>
                </div>
            </div>
        </section>

        <!-- Wyniki koÅ„cowe -->
        <section class="mb-12 quiz-results hidden">
            <div class="bg-white rounded-3xl shadow-md p-6 md:p-8 border-4 border-pink-200">
                <h2 class="text-2xl md:text-3xl text-pink-600 text-center mb-6">Wyniki quizu</h2>
                
                <div class="text-center mb-6">
                    <div class="inline-block p-4 bg-pink-50 rounded-full mb-4">
                        <i class="fas fa-trophy text-5xl text-pink-500"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800">Gratulacje!</h3>
                    <p class="text-gray-700">UkoÅ„czyÅ‚eÅ› quiz z rachunkowoÅ›ci.</p>
                </div>
                
                <div class="bg-pink-50 rounded-xl p-6 mb-6">
                    <div class="flex flex-wrap justify-center gap-6 mb-4">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-pink-600" id="final-score">0</div>
                            <div class="text-sm text-gray-600">Punkty</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-pink-600" id="final-percent">0%</div>
                            <div class="text-sm text-gray-600">Wynik procentowy</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-pink-600" id="correct-answers">0/0</div>
                            <div class="text-sm text-gray-600">Poprawne odpowiedzi</div>
                        </div>
                    </div>
                    
                    <div class="text-center" id="result-message">
                        <!-- WiadomoÅ›Ä‡ bÄ™dzie dodana przez JavaScript -->
                    </div>
                </div>
                
                <div class="flex flex-wrap justify-center gap-4">
                    <button id="restart-quiz-btn" class="btn-kawaii bg-gradient-to-r from-gray-400 to-gray-500">
                        <i class="fas fa-redo mr-2"></i> Rozpocznij quiz ponownie
                    </button>
                    
                    <a href="tryb-finalny.html" class="btn-kawaii">
                        PrzejdÅº do trybu praktycznego <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- Nawigacja miÄ™dzy trybami -->
        <section class="mb-12 text-center">
            <a href="tryb-dopasowania.html" class="inline-block btn-kawaii bg-gradient-to-r from-gray-400 to-gray-500 mr-4">
                <i class="fas fa-arrow-left mr-2"></i> WrÃ³Ä‡ do trybu dopasowania
            </a>
            <a href="tryb-finalny.html" class="inline-block btn-kawaii">
                PrzejdÅº do trybu praktycznego <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </section>
    </main>

    <!-- Stopka -->
    <footer class="bg-gradient-to-r from-pink-500 to-pink-600 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-4">
                <span class="inline-block mx-1">ðŸŒ¸</span>
                <span class="inline-block mx-1">ðŸ’–</span>
                <span class="inline-block mx-1">ðŸŽ€</span>
                <span class="inline-block mx-1">âœ¨</span>
                <span class="inline-block mx-1">ðŸ’«</span>
            </div>
            <p>&copy; 2025 Quiz RachunkowoÅ›ci - Projekt edukacyjny</p>
            <p class="text-pink-200 mt-2 text-sm">Strona stworzona w celach edukacyjnych</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Referencje do elementÃ³w DOM
            const quizIntro = document.querySelector('.quiz-intro');
            const quizContainer = document.querySelector('.quiz-container');
            const quizResults = document.querySelector('.quiz-results');
            const optionsContainer = document.getElementById('options-container');
            const questionText = document.getElementById('question-text');
            const questionType = document.getElementById('question-type');
            const checkBtn = document.getElementById('check-btn');
            const nextBtn = document.getElementById('next-btn');
            const startQuizBtn = document.getElementById('start-quiz-btn');
            const restartQuizBtn = document.getElementById('restart-quiz-btn');
            const scoreDisplay = document.getElementById('score');
            const totalPointsDisplay = document.getElementById('total-points');
            const currentQuestionDisplay = document.getElementById('current-question');
            const totalQuestionsDisplay = document.getElementById('total-questions');
            const progressPercent = document.getElementById('progress-percent');
            const progressFill = document.querySelector('.progress-fill');
            const explanationContainer = document.getElementById('explanation-container');
            const explanationText = document.getElementById('explanation-text');
            const feedbackIcon = document.getElementById('feedback-icon');
            const finalScore = document.getElementById('final-score');
            const finalPercent = document.getElementById('final-percent');
            const correctAnswers = document.getElementById('correct-answers');
            const resultMessage = document.getElementById('result-message');
            
            // Pytania z rachunkowoÅ›ci
            const questions = [
                {
                    question: 'Kosztem ukÅ‚adu kalkulacyjnego jest:',
                    options: [
                        'Amortyzacja',
                        'Koszty dziaÅ‚alnoÅ›ci podstawowej',
                        'UsÅ‚ugi obce',
                        'Podatki i opÅ‚aty'
                    ],
                    correctAnswer: 1,
                    explanation: 'W ukÅ‚adzie kalkulacyjnym koszty grupuje siÄ™ i rozlicza wedÅ‚ug rodzajÃ³w (typÃ³w) dziaÅ‚alnoÅ›ci. WyodrÄ™bnia siÄ™ tutaj koszty: dziaÅ‚alnoÅ›ci podstawowej, dziaÅ‚alnoÅ›ci pomocniczej, zakupu, sprzedaÅ¼y, ogÃ³lnego zarzÄ…du.',
                    points: 1
                },
                {
                    question: 'Pobranie kredytu bankowego w rachunku przepÅ‚ywÃ³w pieniÄ™Å¼nych jest elementem dziaÅ‚alnoÅ›ci:',
                    options: [
                        'Finansowej',
                        'Operacyjnej',
                        'Inwestycyjnej',
                        'Nadzwyczajnej'
                    ],
                    correctAnswer: 0,
                    explanation: 'ZaciÄ…ganie kredytÃ³w, poÅ¼yczek, emisja akcji to dziaÅ‚alnoÅ›Ä‡ finansowa.',
                    points: 1
                },
                {
                    question: 'Zasada podwÃ³jnego zapisu polega na tym, Å¼e kaÅ¼da operacja ksiÄ™gowana jest:',
                    options: [
                        'W tej samej kwocie, po przeciwnych stronach dwÃ³ch kont',
                        'W tej samej kwocie, po tej samej stronie dwÃ³ch kont',
                        'W rÃ³Å¼nych kwotach, po przeciwnych stronach dwÃ³ch kont',
                        'Tylko na kontach aktywÃ³w'
                    ],
                    correctAnswer: 0,
                    explanation: 'Zasada podwÃ³jnego ksiÄ™gowania â€“ kaÅ¼dÄ… operacjÄ™ gospodarczÄ… wyraÅ¼onÄ… wartoÅ›ciowo ksiÄ™guje siÄ™ przynajmniej na dwÃ³ch kontach, po przeciwnej stronie kont i w tej samej kwocie.',
                    points: 1
                },
                {
                    question: 'Zasada kasowa dotyczy:',
                    options: [
                        'AktywÃ³w i kosztÃ³w',
                        'WpÅ‚at i wypÅ‚at',
                        'PrzychodÃ³w i kosztÃ³w',
                        'AktywÃ³w i przychodÃ³w'
                    ],
                    correctAnswer: 1,
                    explanation: 'Metoda kasowa odnosi siÄ™ do gÅ‚Ã³wnej metody ksiÄ™gowej, ktÃ³ra rozpoznaje przychody i wydatki w momencie otrzymania lub wypÅ‚aty gotÃ³wki. Jest to przeciwieÅ„stwo metody memoriaÅ‚owej.',
                    points: 1
                },
                {
                    question: 'Oprogramowanie komputerowe jest elementem skÅ‚adowym:',
                    options: [
                        'ÅšrodkÃ³w trwaÅ‚ych',
                        'AktywÃ³w obrotowych',
                        'WartoÅ›ci niematerialnych i prawnych',
                        'Å»adna odpowiedÅº nie jest poprawna'
                    ],
                    correctAnswer: 2,
                    explanation: 'Programy komputerowe (np. licencje) to wartoÅ›ci niematerialne i prawne, bo nie majÄ… fizycznej formy jak np. budynek czy maszyna (Å›rodek trwaÅ‚y).',
                    points: 1
                },
                {
                    question: 'Wynik na dziaÅ‚alnoÅ›ci operacyjnej nie obejmuje:',
                    options: [
                        'KosztÃ³w finansowych',
                        'PrzychodÃ³w ze sprzedaÅ¼y',
                        'KosztÃ³w uzyskania przychodÃ³w',
                        'PozostaÅ‚ych kosztÃ³w operacyjnych'
                    ],
                    correctAnswer: 0,
                    explanation: 'Na dziaÅ‚alnoÅ›Ä‡ operacyjnÄ… jednostki skÅ‚adajÄ… siÄ™ przychody i koszty operacyjne. Nie obejmujÄ… one przychodÃ³w z dziaÅ‚alnoÅ›ci finansowej, takich jak odsetki od inwestycji.',
                    points: 1
                },
                {
                    question: 'Poprawne sÄ… nastÄ™pujÄ…ce typy operacji bilansowych:',
                    options: [
                        'A+, P-',
                        'A-, P+',
                        'A-, A+',
                        'P-, P+'
                    ],
                    correctAnswer: 2,
                    explanation: 'Wynika to z zasady rÃ³wnowagi bilansowej â€“ ogÃ³lna suma aktywÃ³w musi byÄ‡ rÃ³wna ogÃ³lnej sumie pasywÃ³w. Poprawny jest typ operacji aktywnej (dodamy, potem odejmiemy i siÄ™ wyrÃ³wna, nie zaburza to sumy Å‚Ä…cznej aktywÃ³w).',
                    points: 1
                },
                {
                    question: 'Aktywa zawsze rÃ³wnajÄ… siÄ™ pasywom bowiem:',
                    options: [
                        'Wynika to z zasady podwÃ³jnego zapisu',
                        'Jest to samo, tylko z innego punktu widzenia',
                        'Wynika to z typÃ³w operacji wynikowych',
                        'Pasywa sÄ… kontami aktywnymi'
                    ],
                    correctAnswer: 0,
                    explanation: 'KaÅ¼dy zapis ksiÄ™gowy powoduje rÃ³wnoczesne zmiany po obu stronach bilansu, dlatego suma aktywÃ³w = suma pasywÃ³w zawsze. Jak zapisujemy coÅ› po jednej stronie konta np. Wn, to musi byÄ‡ teÅ¼ ta sama kwota po stronie Ma.',
                    points: 1
                },
                {
                    question: 'Na kontach wynikowych przychodÃ³w zwiÄ™kszenie stanu ksiÄ™guje siÄ™ po stronie:',
                    options: [
                        'Dt',
                        'Wn',
                        'ObciÄ…Å¼enie konta',
                        'Å»adna odpowiedÅº nie jest poprawna'
                    ],
                    correctAnswer: 3,
                    explanation: 'Wszystkie powyÅ¼sze powiÄ…zania to okreÅ›lenia na tÄ… samÄ… stronÄ™, na kontach przychodÃ³w zwiÄ™kszenie stanu ksiÄ™guje siÄ™ po stronie przeciwnej â€“ zwanej Ct (od credit), Ma lub Uznanie konta.',
                    points: 1
                },
                {
                    question: 'Zadaniem bilansu obrotÃ³w i sald jest okreÅ›lenie:',
                    options: [
                        'SporzÄ…dzenie bilansu zamkniÄ™cia',
                        'PoprawnoÅ›ci ksiÄ™gowaÅ„ wynikajÄ…cych z zasady podwÃ³jnego zapisu',
                        'Tylko sum sald kont',
                        'SporzÄ…dzenie bilansu otwarcia'
                    ],
                    correctAnswer: 1,
                    explanation: 'Bilans obrotÃ³w i sald to narzÄ™dzie kontrolne - sprawdza, czy obroty Wn i Ma sÄ… sobie rÃ³wne. Pomaga upewniÄ‡ siÄ™, Å¼e wszystko dobrze zaksiÄ™gowaliÅ›my.',
                    points: 1
                }
            ];
            
            // Zmienne globalne
            let currentQuestionIndex = 0;
            let userScore = 0;
            let totalPoints = 0;
            let selectedOption = -1;
            
            // Inicjalizacja quizu
            function initQuiz() {
                // Losowe mieszanie pytaÅ„
                questions.sort(() => Math.random() - 0.5);
                
                // Resetowanie zmiennych
                currentQuestionIndex = 0;
                userScore = 0;
                totalPoints = 0;
                
                // Obliczanie caÅ‚kowitej liczby punktÃ³w
                questions.forEach(question => {
                    totalPoints += question.points;
                });
                
                // Aktualizacja wyÅ›wietlania
                totalPointsDisplay.textContent = totalPoints;
                scoreDisplay.textContent = userScore;
                totalQuestionsDisplay.textContent = questions.length;
                
                // WyÅ›wietlenie pierwszego pytania
                showQuestion(currentQuestionIndex);
                
                // Pokazanie kontenera quizu i ukrycie innych sekcji
                quizIntro.classList.add('hidden');
                quizResults.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                explanationContainer.classList.add('hidden');
            }
            
            // WyÅ›wietlanie pytania
            function showQuestion(index) {
                // Pobranie aktualnego pytania
                const question = questions[index];
                
                // Aktualizacja tekstu pytania
                questionText.textContent = question.question;
                questionType.textContent = 'Wybierz jednÄ… odpowiedÅº:';
                
                // Wyczyszczenie kontenera opcji
                optionsContainer.innerHTML = '';
                
                // Dodanie opcji
                question.options.forEach((option, optionIndex) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'quiz-option';
                    optionElement.setAttribute('data-index', optionIndex);
                    
                    optionElement.innerHTML = `
                        <label class="flex items-start cursor-pointer">
                            <input type="radio" name="quiz-option" class="mt-1 mr-2 h-4 w-4 text-pink-600 focus:ring-pink-500">
                            <span>${option}</span>
                        </label>
                    `;
                    
                    // Dodanie obsÅ‚ugi klikniÄ™cia
                    optionElement.addEventListener('click', function() {
                        // Odznaczenie innych opcji
                        document.querySelectorAll('#options-container .quiz-option').forEach(opt => {
                            opt.classList.remove('selected');
                            opt.querySelector('input').checked = false;
                        });
                        
                        // Zaznaczenie wybranej opcji
                        const input = this.querySelector('input');
                        input.checked = true;
                        this.classList.add('selected');
                        selectedOption = optionIndex;
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
                
                // Aktualizacja numeru pytania i paska postÄ™pu
                currentQuestionDisplay.textContent = index + 1;
                const progress = ((index + 1) / questions.length) * 100;
                progressFill.style.width = `${progress}%`;
                progressPercent.textContent = `${Math.round(progress)}%`;
                
                // Resetowanie przycisku sprawdzania
                checkBtn.disabled = false;
                selectedOption = -1;
                
                // Ukrycie kontenera wyjaÅ›nienia
                explanationContainer.classList.add('hidden');
            }
            
            // Sprawdzanie odpowiedzi
            function checkAnswer() {
                if (selectedOption === -1) {
                    alert('ProszÄ™ wybraÄ‡ odpowiedÅº!');
                    return;
                }
                
                const question = questions[currentQuestionIndex];
                const options = document.querySelectorAll('#options-container .quiz-option');
                
                let isCorrect = selectedOption === question.correctAnswer;
                
                // PodÅ›wietlenie poprawnych i niepoprawnych odpowiedzi
                options.forEach((option, index) => {
                    if (index === question.correctAnswer) {
                        option.classList.add('correct');
                    } else if (index === selectedOption && !isCorrect) {
                        option.classList.add('incorrect');
                    }
                });
                
                // Aktualizacja wyniku
                if (isCorrect) {
                    userScore += question.points;
                    scoreDisplay.textContent = userScore;
                    feedbackIcon.innerHTML = '<i class="fas fa-check-circle text-green-500"></i>';
                } else {
                    feedbackIcon.innerHTML = '<i class="fas fa-times-circle text-red-500"></i>';
                }
                
                // WyÅ›wietlenie wyjaÅ›nienia
                explanationText.textContent = question.explanation;
                explanationContainer.classList.remove('hidden');
                
                // Animacja ikony feedbacku
                feedbackIcon.classList.add('animate-bounce');
                setTimeout(() => {
                    feedbackIcon.classList.remove('animate-bounce');
                }, 1000);
                
                // Dezaktywacja przycisku sprawdzania
                checkBtn.disabled = true;
            }
            
            // PrzejÅ›cie do nastÄ™pnego pytania
            function nextQuestion() {
                currentQuestionIndex++;
                
                if (currentQuestionIndex < questions.length) {
                    showQuestion(currentQuestionIndex);
                } else {
                    showResults();
                }
            }
            
            // WyÅ›wietlanie wynikÃ³w
            function showResults() {
                // Ukrycie kontenera quizu i pokazanie wynikÃ³w
                quizContainer.classList.add('hidden');
                quizResults.classList.remove('hidden');
                
                // Aktualizacja wynikÃ³w
                finalScore.textContent = userScore;
                const percent = Math.round((userScore / totalPoints) * 100);
                finalPercent.textContent = `${percent}%`;
                correctAnswers.textContent = `${userScore}/${totalPoints}`;
                
                // WiadomoÅ›Ä‡ wynikowa
                let message = '';
                if (percent >= 90) {
                    message = 'Åšwietny wynik! Doskonale znasz podstawy rachunkowoÅ›ci.';
                } else if (percent >= 70) {
                    message = 'Dobry wynik! Masz solidnÄ… wiedzÄ™ z rachunkowoÅ›ci, ale moÅ¼esz jeszcze pogÅ‚Ä™biÄ‡ niektÃ³re zagadnienia.';
                } else if (percent >= 50) {
                    message = 'Przyzwoity wynik. Warto powtÃ³rzyÄ‡ niektÃ³re aspekty rachunkowoÅ›ci, aby lepiej zrozumieÄ‡ jej podstawy.';
                } else {
                    message = 'Warto poÅ›wiÄ™ciÄ‡ wiÄ™cej czasu na naukÄ™ rachunkowoÅ›ci. SprÃ³buj ponownie po przejrzeniu materiaÅ‚u wprowadzajÄ…cego.';
                }
                
                resultMessage.textContent = message;
            }
            
            // ObsÅ‚uga przyciskÃ³w
            startQuizBtn.addEventListener('click', function() {
                initQuiz();
            });
            
            checkBtn.addEventListener('click', function() {
                checkAnswer();
            });
            
            nextBtn.addEventListener('click', function() {
                nextQuestion();
            });
            
            restartQuizBtn.addEventListener('click', function() {
                initQuiz();
            });
        });
    </script>
</body>
</html>